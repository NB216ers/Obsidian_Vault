![[Pasted image 20230227161525.png]]
## 分工
安排任务实现一个目标。
Java SDK 并发包里的 Executor、Fork/Join、Future 本质上都是一种分工方法。除此之外，并发编程领域还总结了一些设计模式，基本上都是和分工方法相关的，例如生产者 - 消费者、Thread-Per-Message、Worker Thread 模式等都是用来指导你如何分工的。

任务分类：并行，串行和聚合任务（任务 1 和任务 2 都完成才能执行任务 3）.

## 同步/协作
指线程间的协作，**一个线程执行完一个任务，如何通知执行后续任务的线程开工**
线程协作问题，基本上可以描述成一个问题：**当某个条件不满足时，线程需要等待，当某个条件满足时，线程需要被唤醒执行**
Java 并发编程领域，解决协作问题的核心技术是**管程**

## 互斥
**所谓互斥，指的是同一时刻，只允许一个线程访问共享变量**

互斥的核心技术是锁，synchronized，SDK 里面各种 Lock 都能解决互斥问题。
锁解决了多线程线程安全问题，也带来了性能问题。

*如何保证线程安全又同时尽量提高性能？*
分场景优化；1. Java SDK 里面 ReadWriteLock、stampedLock 就可以优化读多写少场景下锁的性能。2. 使用无锁数据结构，Java SDK 原子类。3. 不共享变量或者变量只读，比如 ThreadLocal 和 final 关键字，还有一种 Copy-on-Write 模式。

*死锁问题？*
